# План реализации KolTechLine

## Анализ текущего состояния

На основе изучения кодовой базы и технического задания, мы имеем:

1. **Существующая реализация KolTechLine**:
   - Клиентская часть с React/TypeScript/Vite
   - Серверная часть на Node.js/Express/MongoDB
   - Реализованы базовые функции: стены (walls), сообщения, чаты, видеозвонки (Kolophone)
   - Имеется API для работы с пользователями, сообщениями, стенами и т.д.

2. **Требования из нового ТЗ**:
   - Многофункциональная социальная платформа для фрилансеров, заказчиков, стартаперов и инвесторов
   - Ролевая система (фрилансер, заказчик, стартапер, инвестор)
   - Личные профили с возможностью публикации постов
   - Глобальная лента с адаптацией под роль пользователя
   - Мессенджер с приватными и групповыми чатами
   - Видеозвонки (Kolophone)
   - Мультиязычность (русский, английский, китайский, арабский)
   - Темы оформления (дневной/ночной режим)

## Что нужно почистить

1. **Удалить из клиентской части**:
   - Страницы, не связанные с KolTechLine (BusinessAccelerator, Portfolio, ProjectDetail и т.д.)
   - Компоненты, специфичные для основного сайта KolTech
   - Ссылки на другие разделы сайта KolTech

2. **Сохранить и адаптировать**:
   - Аутентификацию и авторизацию
   - Компоненты для работы с сообщениями и чатами
   - Функционал видеозвонков (Kolophone)
   - Базовую структуру API

## План реализации

### Этап 1: Базовая аутентификация и роли

1. **Обновление модели пользователя**:
   - Добавить поддержку множественных ролей
   - Обновить схему в MongoDB

2. **Обновление системы аутентификации**:
   - Адаптировать регистрацию для выбора ролей
   - Обновить JWT токены для хранения информации о ролях
   - Реализовать middleware для проверки ролей

3. **Обновление UI аутентификации**:
   - Создать новые компоненты для регистрации с выбором ролей
   - Обновить страницы входа и восстановления пароля

### Этап 2: Личные профили и посты

1. **Обновление модели профиля**:
   - Добавить поля для разных типов пользователей
   - Реализовать хранение постов

2. **Создание UI для профилей**:
   - Адаптивный интерфейс в зависимости от роли
   - Компоненты для создания и отображения постов
   - Портфолио для фрилансеров и стартаперов

### Этап 3: Глобальная лента с фильтрацией по ролям

1. **Реализация API для ленты**:
   - Фильтрация контента по ролям
   - Пагинация и поиск

2. **Создание UI для ленты**:
   - Компоненты для отображения разных типов контента
   - Фильтры и сортировка
   - Адаптация под роль пользователя

### Этап 4: Публикация/просмотр заказов и стартап-проектов

1. **Создание моделей для заказов и проектов**:
   - Схемы для заказов фрилансерам
   - Схемы для стартап-проектов

2. **Реализация API для работы с заказами и проектами**:
   - CRUD операции
   - Поиск и фильтрация

3. **Создание UI для работы с заказами и проектами**:
   - Формы создания и редактирования
   - Компоненты для отображения и взаимодействия

### Этап 5: Мессенджер

1. **Оптимизация существующего функционала чатов**:
   - Приватные и групповые чаты
   - Отправка файлов и документов

2. **Улучшение UI мессенджера**:
   - Обновление дизайна
   - Добавление новых функций (статусы прочтения, уведомления)

### Этап 6: Видеозвонки (Kolophone)

1. **Оптимизация существующего функционала Kolophone**:
   - Групповые звонки
   - Демонстрация экрана

2. **Улучшение UI для видеозвонков**:
   - Обновление дизайна
   - Добавление новых функций (фоны, эффекты)

### Этап 7: Мультиязычность и темы

1. **Реализация мультиязычности**:
   - Добавление i18n
   - Создание переводов для 4 языков
   - Поддержка RTL для арабского языка

2. **Реализация тем оформления**:
   - Дневной и ночной режимы
   - Сохранение предпочтений в профиле

## Технический стек

- **Frontend**: TypeScript, React, Vite
- **Backend**: Node.js, Express, TypeScript
- **База данных**: MongoDB
- **Realtime**: Socket.io
- **Видеозвонки**: WebRTC
- **Мультиязычность**: i18next
- **Стилизация**: Tailwind CSS

## Приоритеты и сроки

1. **Высокий приоритет** (первая итерация):
   - Базовая аутентификация и роли
   - Личные профили
   - Глобальная лента

2. **Средний приоритет** (вторая итерация):
   - Публикация/просмотр заказов и проектов
   - Оптимизация мессенджера

3. **Низкий приоритет** (третья итерация):
   - Видеозвонки
   - Мультиязычность и темы
